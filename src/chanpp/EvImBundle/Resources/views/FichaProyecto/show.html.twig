{% extends 'chanppEvImBundle::layout.html.twig' %}

{% block body -%}
    <h1>Ficha Proyecto {{entity.id}}</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Area_accion</th>
                <td>{{ entity.areaaccion }}</td>
            </tr>
            <tr>
                <th>Linea_accion</th>
                <td>{{ entity.lineaaccion }}</td>
            </tr>
            <tr>
                <th>Nombre</th>
                <td>{{ entity.nombre }}</td>
            </tr>
            <tr>
                <th>Jefe</th>
                <td>{{ entity.jefe }}</td>
            </tr>
            <tr>
                <th>Duracion</th>
                <td>{{ entity.duracion }}</td>
            </tr>
            <tr>
                <th>Diagnostico_previo</th>
                <td>{{ entity.diagnosticoprevio }}</td>
            </tr>
            <tr>
                <th>Obj_general</th>
                <td>{{ entity.objgeneral }}</td>
            </tr>
            <tr>
                <th>Objs_especificos</th>
                <td>{{ entity.objsespecificos }}</td>
            </tr>
            <tr>
                <th>Descripcion</th>
                <td>{{ entity.descripcion }}</td>
            </tr>
            <tr>
                <th>Desc_causales</th>
                <td>{{ entity.desccausales }}</td>
            </tr>
            <tr>
                <th>Variables_causales</th>
                <td>{{ entity.variablescausales }}</td>
            </tr>            
        </tbody>
    </table>

    <h2>Actividades asociadas</h2>
    <table class="table table-condensed">
        <tr>
            <th>Nombre</th>
            <th>Descripción</th>

        </tr>
    {% for actividad in entity.activities %}
        <tr>
            <td><a href="{{ path('activity_show', { 'id': actividad.id }) }}"> {{actividad.nombre}} </a></td>
            <td>{{actividad.descripcion}}</td>
        </tr>
    {% endfor %}
        </table>

    <h2>Indicadores de gestión asociados</h2>        
    
        {% for indgest in entity.getIndGestions %}
    <table class="table table-condensed">
        <tr>
            <th>Indicador</th>
            <th>{{indgest.mesDeadline}} {{indgest.anoDeadline}} </th>
            <th>Plazos (mes, año) </th>
        </tr>
        <tr>
            <td>
                {{indgest.nombre}}
            </td>
            <td>
                {% for meta in indgest.metas %}
                    {{meta.descripcion}}<br />
                {% endfor %}
            </td>
            <td>
                {% for meta in indgest.metas %}
                    {{meta.plazoMes}} {{meta.plazoAnio}}<br />
                {% endfor %}
            </td>
        </tr>
    </table>
        {% endfor %}

    <div class="form-actions">
        
        <a href="{{ path('fichaproyecto') }}" class="btn btn-primary">
            Regresar a Proyectos
        </a>
        <a href="{{ path('fichaproyecto_edit', { 'id': entity.id }) }}" class="btn">
            Editar Ficha Proyecto
        </a>        

    </div>
    <form action="{{ path('fichaproyecto_delete', { 'id': entity.id }) }}" method="post">
            <input type="hidden" name="_method" value="DELETE" />
            {{ form_widget(delete_form) }}
            <button type="submit" class="btn btn-danger">Borrar Ficha Proyecto</button>
        </form>
    
    
    

{% endblock %}
