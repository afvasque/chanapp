{% extends 'chanppEvImBundle::layout.html.twig' %}

{% block body -%}
    <h1>Plan de Evaluación <p title="Un plan de evaluación puede tener asociadas múltiples evaluaciones (trimestrales, semestrales, al término del programa/proyecto, entre otras), es decir, evaluaciones de seguimiento o ex post. 
A su vez, cada una de esas evaluaciones puede medir efectos directos y/o indirectos." id="formhelpshowtitle">?</p></h1>
    <a href="{{ path('fichaproyecto_show', { 'id': entity.getFichaproyecto().id}) }}" class="btn" >Volver a la Ficha de Proyecto
    </a>
    {# Poner if hay resultados #}
    <a href="{{ path('planevaluacion_resultados_show', { 'id': entity.id}) }}" class="btn btn-primary">
        Ver Resultados
    </a>
    <a href="{{ path('cambiosplanevaluacion_show', { 'id': entity.id}) }}" class="btn btn-primary">
        Ver el registro histórico de modificaciones
    </a>
    {#Opciones de Plan#}
        <a href="{{ path('planevaluacion_edit', { 'id': entity.id }) }}" class="btn btn-warning">
            Editar
        </a>
        <br><br>
    <table class="table table-striped">
        <tbody>
            <tr>
                <th>Objetivos<p title="En este campo se definen los objetivos de la evaluación, señalando qué pregunta se desea responder con la información que se obtendrá a partir de los resultados de la evaluación." id="formhelpshow">?</p></th>
                <td>{{ entity.objetivos }}</td>
            </tr>
            <tr>
                <th>Destinatarios de la información<p title="En este campo se establecen los destinatarios de la información, detallando sus características principales y sus requerimientos de información, tanto en fondo como en forma. 
De este modo, se establece con claridad el público objetivo de la evaluación que se llevará a cabo, identificando los actores claves y el sector al cual pertenecen." id="formhelpshow">?</p></th>
                <td>{{ entity.destinatarios }}</td>
            </tr>
            <tr>
                <th>Número de Evaluaciones</th>
                <td>{{ entity.instanciasNumeroEvaluaciones }} evaluaciones</td>
            </tr>
            <tr>
                <th>Plazo para la ejecución total del Plan de Evaluación </th>
                <td>{{ entity.instanciasPlazo }}</td>
            </tr>
        </tbody>
    </table>

    <hr>
        {# Ahora agregamos los recursos #}
            <h4>Recursos disponibles para evaluar el programa/proyecto<p title="En este punto se detallan los recursos disponibles para la evaluación, incluyendo los recursos monetarios, humanos, tiempo, capacidades, etc. En particular, una vez establecidos los recursos humanos disponibles para la evaluación, se deberán definir las funciones y responsabilidades de cada uno de los involucrados. 
En estos campos se detalla la suma de todos los recursos disponibles para evaluar, incluyendo los recursos para realizar evaluaciones de seguimiento (trimestral, semestral o en el período de tiempo que se estime conveniente realizarlas) o evaluaciones ex post del programa/proyecto." id="formhelpshowtitle">?</p></h4> 
    <ul>
        <li>
            {# app/Resources/views/base.html.twig
                {% render 'chanppEvI' with { 'entity': entity } %} } #}

            <a href="{{ path('recurso_new', { 'planevaluacion_id': entity.id }) }}" class="btn btn-success">
                Agregar Recurso
            </a> 
        </li>
    </ul>
     <table class="table table-striped">
        <thead>
            <tr>
                <th>Título</th>
                <th>Descripción</th>
                <th>Tipo<p title="Los recursos disponibles para evaluar pueden ser de los siguientes tipos:
-Monetarios  
-Humanos: Funciones y responsabilidades.  
-Tiempo  
-Capacidades  
-Otros" id="formhelpshow">?</p></th>
                <th>Cantidad<p title="Los recursos se miden en unidades de dinero ($), horas hombre (HH), tiempo (meses), entre otros." id="formhelpshow">?</p></th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for recurso in recursos %}
            <tr>
                <td>{{ recurso.titulo }}</td>
                <td>{{ recurso.descripcion }}</td>
                {% if recurso.tipo == 1 %}
                   <td>Monetario</td>
                {% elseif recurso.tipo == 2 %}
                    <td>Humano</td>
                {% elseif recurso.tipo == 3 %}
                    <td>Tiempo</td>
                {% elseif recurso.tipo == 4 %}
                    <td>Capacidad</td>
                {% elseif recurso.tipo == 5 %}
                    <td>Otro</td>
                {% endif %}
                
                <td>{{ recurso.cantidad }}</td>
                <td>
                <ul>
                    <a href="{{ path('recurso_show', { 'id': recurso.id }) }}" class="btn btn-primary">Ver</a>
                        <a href="{{ path('recurso_edit', { 'id': recurso.id }) }}" class="btn btn-warning">Editar</a>
                </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {# Fin recursos #}
    <hr>
    {# Ahora agregamos las evaluaciones #}
    <h4>Evaluaciones<p title="Un plan de evaluación puede tener asociadas múltiples evaluaciones (trimestrales, semestrales, al término del programa/proyecto, entre otras), es decir, evaluaciones de seguimiento o ex post. A continuación se detallan todas las evaluaciones asociadas a este Plan de Evaluación:" id="formhelpshowtitle">?</p></h4> 
    <ul>
        <li>
            <a href="{{ path('evaluacion_new', { 'planevaluacion_id': entity.id }) }}" class="btn btn-success">
                Agregar Evaluación
            </a> 
        </li>
    </ul>
    <table class="table table-striped">
        <thead>
            <tr>
                <th>Nombre</th>
                <th>Alcance<p title="En este ítem se especifican la(s) pregunta(s) clave(s) que se desea responder con la evaluación" id="formhelpshow">?</p></th>
                <th>Duración</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
        {% for entity in evaluaciones %}
            <tr>
                <td>{{ entity.nombre }}</td>
                <td>{{ entity.alcance }}</td>
                <td>{{ entity.duracion }}</td>
                <td>
                <ul>
                        <a href="{{ path('evaluacion_show', { 'id': entity.id }) }}" class="btn btn-primary">Ver</a>
                        <a href="{{ path('evaluacion_edit', { 'id': entity.id }) }}" class="btn btn-warning">Editar</a>
                </ul>
                </td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    {# Fin evaluaciones#}
{% endblock %}
